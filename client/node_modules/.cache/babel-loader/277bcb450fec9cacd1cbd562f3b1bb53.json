{"ast":null,"code":"import _slicedToArray from\"C:/Users/qdeman/Documents/Daily_Dose_of_Data/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect,useCallback}from'react';import'./BubbleSort.scss';import Element from'../Element/Element';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BubbleSortDisplay=function BubbleSortDisplay(props){return props.array.map(function(value,index){if(index>props.sortedStart.current){return/*#__PURE__*/_jsx(Element,{value:value,color:\"green\"},index);}if(index===props.focusOne.current||index===props.focusTwo.current){if(index===props.min.current){return/*#__PURE__*/_jsx(Element,{value:value,color:\"pink\",border:\"bordered\"},index);}if(index===props.max.current){return/*#__PURE__*/_jsx(Element,{value:value,color:\"yellow\",border:\"bordered\"},index);}else return/*#__PURE__*/_jsx(Element,{value:value,border:\"bordered\"},index);}return/*#__PURE__*/_jsx(Element,{value:value},index);});};var BubbleSort=function BubbleSort(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),forceRender=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),array=_useState4[0],setArray=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),sorted=_useState6[0],setSorted=_useState6[1];var sorting=useRef(false);var interval=useRef(null);var swappedOnPass=useRef(false);var sortedStart=useRef(array.length-1);var focusOne=useRef(-1);var focusTwo=useRef(-1);var min=useRef(-1);var max=useRef(-1);var toggleSortingButton=useRef();var generateArrayButton=useRef();var arraySizeInput=useRef();var speedSlider=useRef();//We call update on fake state variable to force rerender\nvar forceUpdate=function forceUpdate(){forceRender(function(renders){return renders+1;});};//sets state array to a random array for sorting\nvar generateArray=function generateArray(){if(sorting.current){toggleSorting();}var size=parseInt(arraySizeInput.current.value);if(isNaN(size))size=randInt(5,50);if(size>0){setArray(randomArray(size));setSorted(false);sortedStart.current=size-1;focusOne.current=-1;focusTwo.current=-1;min.current=-1;max.current=-1;//swappedOnPass.current = false;\n//sorting.current = false;\n//currentMinimum.current = -1;\n}arraySizeInput.current.value=null;};//generates a random array within reasonable bounds\nvar randomArray=useCallback(function(size){var newArray=new Array(size);for(var i=0;i<size;i++){newArray[i]=randInt(-999,1000);}sortedStart.current=size-1;return newArray;},[]);var randInt=function randInt(min,max){return Math.floor(Math.random()*(max-min)+min);};//initialize the array randomly at start\nuseEffect(function(){setArray(randomArray(randInt(5,50)));},[randomArray]);function swap(arr,x,y){var temp=arr[x];arr[x]=arr[y];arr[y]=temp;}//completes one step of the sorting algorithm\nvar sortingStep=function sortingStep(){if(max.current===1&&sortedStart.current===1){sortedStart.current=-1;return;}if(sortedStart.current<=0){setSorted(true);toggleSorting();return;}if(focusOne.current===-1&&focusTwo.current===-1){focusOne.current=0;focusTwo.current=1;return;}if(max.current>=sortedStart.current){if(swappedOnPass.current===false){sortedStart.current=-1;}min.current=-1;max.current=-1;focusOne.current=0;focusTwo.current=1;swappedOnPass.current=false;sortedStart.current--;}if(min.current===-1){if(array[focusOne.current]<array[focusTwo.current]){min.current=focusOne.current;max.current=focusTwo.current;}else{min.current=focusTwo.current;max.current=focusOne.current;}}else if(min.current>max.current){swap(array,min.current,max.current);swappedOnPass.current=true;var temp=max.current;max.current=min.current;min.current=temp;}else{min.current=-1;max.current=-1;focusOne.current++;focusTwo.current++;}};//function to turn sorting on and off by button click\nvar toggleSorting=function toggleSorting(){if(sorting.current){clearInterval(interval.current);sorting.current=false;toggleSortingButton.current.innerHTML=\"Sort\";toggleSortingButton.current.classList.remove(\"pinkButton\");toggleSortingButton.current.classList.add(\"greenButton\");}else if(!sorted){interval.current=setInterval(function(){sortingStep();forceUpdate();},1000-speedSlider.current.value);sorting.current=true;toggleSortingButton.current.innerHTML=\"Stop\";toggleSortingButton.current.classList.remove(\"greenButton\");toggleSortingButton.current.classList.add(\"pinkButton\");}};//changes the animation speed of sorting when the slider changes\nvar updateSpeed=function updateSpeed(){if(sorting.current){clearInterval(interval.current);interval.current=setInterval(function(){sortingStep();forceUpdate();},1000-speedSlider.current.value);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bubble-sort\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"main\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"button\",{id:\"randomButton\",ref:generateArrayButton,onClick:generateArray,children:\"Random\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"labeledInput\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Array Size\"}),/*#__PURE__*/_jsx(\"input\",{id:\"arraySizeInput\",ref:arraySizeInput,type:\"text\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{id:\"toggleSortingButton\",className:\"greenButton\",ref:toggleSortingButton,onClick:toggleSorting,children:\"Sort\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{className:\"labeledSlider\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Animation Speed\"}),/*#__PURE__*/_jsx(\"input\",{className:\"slider\",ref:speedSlider,onChange:updateSpeed,min:\"0\",max:\"990\",type:\"range\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"visualization\",children:/*#__PURE__*/_jsx(BubbleSortDisplay,{array:array,sortedStart:sortedStart,focusOne:focusOne,focusTwo:focusTwo,min:min,max:max})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"legend\",children:[/*#__PURE__*/_jsx(Element,{color:\"green\"}),/*#__PURE__*/_jsx(\"p\",{children:\"= Sorted\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Element,{}),/*#__PURE__*/_jsx(\"p\",{children:\"= Unsorted\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Element,{border:\"bordered\"}),/*#__PURE__*/_jsx(\"p\",{children:\"= Current Focuses\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Element,{color:\"pink\"}),/*#__PURE__*/_jsx(\"p\",{children:\"= Lesser of Focuses\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Element,{color:\"yellow\"}),/*#__PURE__*/_jsx(\"p\",{children:\"= Greater of Focuses\"})]})]});};export default BubbleSort;","map":{"version":3,"sources":["C:/Users/qdeman/Documents/Daily_Dose_of_Data/client/src/BubbleSort/BubbleSort.js"],"names":["React","useState","useRef","useEffect","useCallback","Element","BubbleSortDisplay","props","array","map","value","index","sortedStart","current","focusOne","focusTwo","min","max","BubbleSort","forceRender","setArray","sorted","setSorted","sorting","interval","swappedOnPass","length","toggleSortingButton","generateArrayButton","arraySizeInput","speedSlider","forceUpdate","renders","generateArray","toggleSorting","size","parseInt","isNaN","randInt","randomArray","newArray","Array","i","Math","floor","random","swap","arr","x","y","temp","sortingStep","clearInterval","innerHTML","classList","remove","add","setInterval","updateSpeed"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react';\r\nimport './BubbleSort.scss';\r\nimport Element from '../Element/Element';\r\n\r\nconst BubbleSortDisplay = (props) => {\r\n    return props.array.map((value, index) => {\r\n        if (index > props.sortedStart.current) {\r\n            return <Element key={index} value={value} color=\"green\"/>\r\n        }\r\n        if (index === props.focusOne.current || index === props.focusTwo.current) {\r\n            if (index === props.min.current) {\r\n                return <Element key={index} value={value} color=\"pink\" border=\"bordered\" />\r\n            }\r\n            if (index === props.max.current) {\r\n                return <Element key={index} value={value} color=\"yellow\" border=\"bordered\" />\r\n            }\r\n            else return <Element key={index} value={value} border=\"bordered\" />\r\n            \r\n        }\r\n        return <Element key={index} value={value} />\r\n    });\r\n}\r\n\r\n\r\n\r\nconst BubbleSort = () => {\r\n    const [, forceRender] = useState(0);\r\n    const [array, setArray] = useState([]);\r\n    const [sorted, setSorted] = useState(false);\r\n    const sorting = useRef(false);\r\n    const interval = useRef(null);\r\n    const swappedOnPass = useRef(false);\r\n    const sortedStart = useRef(array.length - 1);\r\n    const focusOne = useRef(-1);\r\n    const focusTwo = useRef(-1);\r\n    const min = useRef(-1);\r\n    const max = useRef(-1);\r\n    const toggleSortingButton = useRef();\r\n    const generateArrayButton = useRef();\r\n    const arraySizeInput = useRef();\r\n    const speedSlider = useRef();\r\n    \r\n    //We call update on fake state variable to force rerender\r\n    const forceUpdate = () => {\r\n        forceRender(renders => renders + 1);\r\n    }\r\n\r\n    //sets state array to a random array for sorting\r\n    const generateArray = () => {\r\n        if (sorting.current) {\r\n            toggleSorting();\r\n        }\r\n        var size = parseInt(arraySizeInput.current.value);\r\n        if(isNaN(size))\r\n            size = randInt(5,50);\r\n        if (size > 0) {\r\n            setArray(randomArray(size));\r\n            setSorted(false);\r\n            sortedStart.current = size - 1;\r\n            focusOne.current = -1;\r\n            focusTwo.current = -1;\r\n            min.current = -1;\r\n            max.current = -1\r\n            //swappedOnPass.current = false;\r\n            //sorting.current = false;\r\n            //currentMinimum.current = -1;\r\n        }\r\n        arraySizeInput.current.value = null;\r\n    }\r\n    //generates a random array within reasonable bounds\r\n    const randomArray = useCallback((size) => {\r\n        var newArray = new Array(size);\r\n            for (let i = 0; i < size; i++) {\r\n                newArray[i] = randInt(-999, 1000);\r\n            }\r\n        sortedStart.current = size - 1;\r\n        return newArray;\r\n    }, []);\r\n    const randInt = (min, max) => {\r\n        return Math.floor(Math.random() * (max-min) + min);\r\n    }\r\n\r\n    //initialize the array randomly at start\r\n    useEffect(() => {\r\n        setArray(randomArray(randInt(5,50)));\r\n    }, [randomArray]);\r\n\r\n    function swap(arr, x, y) {\r\n        var temp = arr[x];\r\n        arr[x] = arr[y];\r\n        arr[y] = temp;\r\n    }\r\n\r\n    //completes one step of the sorting algorithm\r\n    const sortingStep = () => {\r\n        if (max.current === 1 && sortedStart.current === 1) {\r\n            sortedStart.current = -1;\r\n            return;\r\n        }\r\n\r\n        if (sortedStart.current <= 0) {\r\n            setSorted(true);\r\n            toggleSorting();\r\n            return;\r\n        }\r\n        if (focusOne.current === -1 && focusTwo.current === -1){\r\n            focusOne.current = 0;\r\n            focusTwo.current = 1;\r\n            return;\r\n        }\r\n        if (max.current >= sortedStart.current) {\r\n            if (swappedOnPass.current === false) {\r\n                sortedStart.current = -1;\r\n            }\r\n\r\n            min.current = -1;\r\n            max.current = -1;\r\n            focusOne.current = 0;\r\n            focusTwo.current = 1;\r\n            swappedOnPass.current = false;\r\n            sortedStart.current--;\r\n            \r\n        }\r\n        if (min.current === -1) {\r\n            if (array[focusOne.current] < array[focusTwo.current]) {\r\n                min.current = focusOne.current;\r\n                max.current = focusTwo.current;\r\n            }\r\n            else {\r\n                min.current = focusTwo.current;\r\n                max.current = focusOne.current;\r\n            }\r\n        }\r\n        else if (min.current > max.current) {\r\n            swap(array, min.current, max.current);\r\n            swappedOnPass.current = true;\r\n            var temp = max.current;\r\n            max.current = min.current;\r\n            min.current = temp;\r\n        } \r\n        else {\r\n            min.current = -1;\r\n            max.current = -1;\r\n            focusOne.current++;\r\n            focusTwo.current++;\r\n            \r\n        }\r\n        \r\n    }\r\n\r\n    //function to turn sorting on and off by button click\r\n    const toggleSorting = () => {\r\n        if (sorting.current) {\r\n            clearInterval(interval.current);\r\n            sorting.current = false;\r\n            toggleSortingButton.current.innerHTML = \"Sort\";\r\n            toggleSortingButton.current.classList.remove(\"pinkButton\");\r\n            toggleSortingButton.current.classList.add(\"greenButton\");\r\n        }\r\n        else if (!sorted) {\r\n            interval.current = setInterval(() => {\r\n                sortingStep();\r\n                forceUpdate();\r\n            }, 1000 - speedSlider.current.value);\r\n            sorting.current = true;\r\n            toggleSortingButton.current.innerHTML = \"Stop\";\r\n            toggleSortingButton.current.classList.remove(\"greenButton\");\r\n            toggleSortingButton.current.classList.add(\"pinkButton\");\r\n        }\r\n    }\r\n\r\n    //changes the animation speed of sorting when the slider changes\r\n    const updateSpeed = () => {\r\n        if (sorting.current) {\r\n            clearInterval(interval.current);\r\n            interval.current = setInterval(() => {\r\n                sortingStep();\r\n                forceUpdate();\r\n            }, 1000 - speedSlider.current.value);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"bubble-sort\">\r\n            <div id=\"main\">\r\n                <div className=\"controls\">\r\n                    <button id=\"randomButton\" ref={generateArrayButton} onClick={generateArray}>Random</button>\r\n                    <span className=\"labeledInput\">\r\n                        <label>Array Size</label>\r\n                        <input id=\"arraySizeInput\" ref={arraySizeInput} type=\"text\"></input>\r\n                    </span>\r\n                    <br />\r\n                    <button id=\"toggleSortingButton\" className=\"greenButton\" ref={toggleSortingButton} onClick={toggleSorting}>Sort</button>\r\n                    <br />\r\n                    <span className=\"labeledSlider\">\r\n                        <label>Animation Speed</label>\r\n                        <input className=\"slider\" ref={speedSlider} onChange={updateSpeed} min=\"0\" max=\"990\" type=\"range\"></input>\r\n                    </span>\r\n                </div>\r\n                <div className=\"visualization\">\r\n                    <BubbleSortDisplay array={array} sortedStart={sortedStart} focusOne={focusOne} focusTwo={focusTwo} min={min} max={max}/>\r\n                </div>\r\n            </div>\r\n            <div className=\"legend\">\r\n                <Element color=\"green\"></Element>\r\n                <p>= Sorted</p>\r\n                < br />\r\n                <Element></Element>\r\n                <p>= Unsorted</p>\r\n                <br />\r\n                <Element border=\"bordered\"></Element>\r\n                <p>= Current Focuses</p>\r\n                <br />\r\n                <Element color=\"pink\"></Element>\r\n                <p>= Lesser of Focuses</p>\r\n                <br />\r\n                <Element color=\"yellow\"></Element>\r\n                <p>= Greater of Focuses</p>\r\n            </div>\r\n        </div>);\r\n}\r\n\r\nexport default BubbleSort;"]},"metadata":{},"sourceType":"module"}