{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\qdeman\\\\Documents\\\\Daily_Dose_of_Data\\\\ReactApp\\\\src\\\\LinkedList\\\\LinkedList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport './LinkedList.scss';\nimport Element from '../Element/Element';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Node {\n  constructor(value) {\n    this.value = value;\n    this.next = null;\n  }\n\n}\n\nclass LinkedListClass {\n  constructor(head = null) {\n    this.head = head;\n    this.size = 0;\n  } //for insertion at tail -- currently unused\n\n\n  insert(data) {\n    if (this.head == null) {\n      this.head = new Node(data);\n    } else {\n      var current = this.head;\n\n      while (current.next != null) {\n        current = current.next;\n      }\n\n      current.next = new Node(data);\n    }\n\n    this.size++;\n  }\n\n  insertAt(data, index) {\n    var newNode = new Node(data);\n    var current = this.head;\n    var previous;\n\n    if (index <= this.size) {\n      if (index === 0) {\n        newNode.next = this.head;\n        this.head = newNode;\n      } else {\n        var i = 0;\n\n        while (i < index) {\n          i++;\n          previous = current;\n          current = current.next;\n        }\n\n        newNode.next = current;\n        previous.next = newNode;\n      }\n\n      this.size++;\n    }\n  }\n\n  get(index) {\n    var i = 0;\n    var current = this.head;\n\n    while (i !== index) {\n      current = current.next;\n      i++;\n    }\n\n    return current.value;\n  }\n\n  remove(index) {\n    var i = 0;\n    var curr, prev, next;\n\n    if (index < this.size && this.size > 0) {\n      if (index === 0) {\n        this.head = this.head.next;\n        this.size--;\n      } else {\n        i++;\n        prev = this.head;\n        curr = prev.next;\n        next = curr.next;\n\n        while (i !== index) {\n          i++;\n          prev = prev.next;\n          curr = curr.next;\n          next = next.next;\n        }\n\n        prev.next = next;\n        this.size--;\n      }\n    }\n  }\n\n}\n\nconst LinkedListDisplay = props => {\n  var current = props.list.head;\n  var index = 0;\n  var componentList = [];\n\n  while (current != null) {\n    if (current === props.focus) {\n      componentList.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"labeledElement\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: index\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Element, {\n          value: current.value,\n          border: \"bordered\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this)]\n      }, 2 * index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this));\n    } else if (current === props.green) {\n      componentList.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"labeledElement\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: index\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Element, {\n          value: current.value,\n          color: \"green\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this)]\n      }, 2 * index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this));\n    } else if (current === props.yellow) {\n      componentList.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"labeledElement\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: index\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Element, {\n          value: current.value,\n          color: \"yellow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this)]\n      }, 2 * index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this));\n    } else if (current === props.pink) {\n      componentList.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"labeledElement\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: index\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Element, {\n          value: current.value,\n          color: \"pink\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this)]\n      }, 2 * index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this));\n    } else {\n      componentList.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"labeledElement\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: index\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Element, {\n          value: current.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this)]\n      }, 2 * index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this));\n    }\n\n    componentList.push( /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"arrow\",\n      children: \"\\u2192\"\n    }, 2 * index + 1, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }, this));\n    current = current.next;\n    index++;\n  }\n\n  componentList.push( /*#__PURE__*/_jsxDEV(Element, {\n    value: \"null\"\n  }, 2 * index, false, {\n    fileName: _jsxFileName,\n    lineNumber: 141,\n    columnNumber: 24\n  }, this));\n  return componentList;\n};\n\n_c = LinkedListDisplay;\n\nconst LinkedList = () => {\n  _s();\n\n  const [list, setList] = useState(new LinkedListClass());\n  const [, forceRender] = useState(0);\n  const randomSize = useRef();\n  const insertIndex = useRef();\n  const insertValue = useRef();\n  const removeIndex = useRef();\n  const listOutput = useRef();\n  const getIndex = useRef();\n  const speedSlider = useRef();\n  const interval = useRef();\n  const animationFunction = useRef();\n  const animationValue = useRef();\n  const targetIndex = useRef();\n  const animating = useRef();\n  const currentNode = useRef();\n  const currentIndex = useRef();\n  const green = useRef();\n  const yellow = useRef();\n  const pink = useRef(); //We call update on fake state variable to force rerender\n\n  const forceUpdate = () => {\n    forceRender(renders => renders + 1);\n  }; //sets list to a randomly generated list\n\n\n  const randomList = () => {\n    if (animating.current) toggleAnimation();\n    var size = randomSize.current.value;\n\n    if (size === \"\") {\n      size = randInt(8, 40);\n    }\n\n    if (!isNaN(parseInt(size)) && size > 0) {\n      var newList = new LinkedListClass();\n\n      for (let i = 0; i < size; i++) newList.insertAt(randInt(-999, 1000), 0);\n\n      setList(newList);\n    }\n\n    randomSize.current.value = null;\n  };\n\n  const randInt = (min, max) => {\n    return Math.floor(Math.random() * (max - min) + min);\n  }; //function to pause or continue animation\n\n\n  const toggleAnimation = useCallback(() => {\n    if (animating.current) {\n      clearInterval(interval.current);\n      animating.current = false;\n      animationFunction.current = null;\n      animationValue.current = null;\n      targetIndex.current = null;\n      currentNode.current = null;\n      currentIndex.current = null;\n    } else {\n      interval.current = setInterval(() => {\n        animationFunction.current();\n        forceUpdate();\n      }, 1000 - speedSlider.current.value);\n      animating.current = true;\n      green.current = null;\n    }\n  }, []); //initialize list to random list\n\n  useEffect(randomList, [toggleAnimation]); //insertion only occurs at head for now\n\n  function insert() {\n    if (animating.current) toggleAnimation();\n    var data = parseInt(insertValue.current.value);\n    var index = parseInt(insertIndex.current.value);\n    if (isNaN(data)) data = 0;\n    if (isNaN(index)) index = 0;\n\n    if (index === 0) {\n      list.insertAt(data, 0);\n      green.current = list.head;\n      forceUpdate();\n    } else if (index > 0 && index < list.size) {\n      animationFunction.current = insertStep;\n      animationValue.current = data;\n      targetIndex.current = index;\n      currentNode.current = list.head;\n      currentIndex.current = 0;\n      forceUpdate();\n      toggleAnimation();\n    } else {\n      listOutput.current.value = \"Invalid\";\n    }\n\n    insertValue.current.value = null;\n    insertIndex.current.value = null;\n  } //function for a single step of insertion animation\n\n\n  const insertStep = () => {\n    if (currentIndex.current === targetIndex.current - 1) {\n      list.insertAt(animationValue.current, targetIndex.current);\n      green.current = currentNode.current.next;\n      toggleAnimation();\n    } else {\n      currentNode.current = currentNode.current.next;\n      currentIndex.current++;\n    }\n  };\n\n  function get() {\n    var index = parseInt(getIndex.current.value);\n    if (isNaN(index)) index = 0;\n\n    if (index >= 0 && index < list.size) {\n      listOutput.current.value = list.get(index);\n    } else {\n      listOutput.current.value = \"Invalid\";\n    }\n\n    getIndex.current.value = null;\n  }\n\n  function remove() {\n    if (animating.current) toggleAnimation();\n    var index = parseInt(removeIndex.current.value);\n    if (isNaN(index)) index = 0;\n\n    if (index >= 0 && index < list.size) {\n      listOutput.current.value = list.get(index);\n      animationFunction.current = removeStep;\n      targetIndex.current = index;\n      currentIndex.current = 0;\n      currentNode.current = list.head;\n      forceUpdate();\n      toggleAnimation();\n    } else {\n      listOutput.current.value = \"Invalid\";\n    }\n\n    removeIndex.current.value = null;\n  } //function to do 1 step of remove animation\n\n\n  const removeStep = () => {\n    if (targetIndex.current === currentIndex.current) {} else {\n      currentNode.current = currentNode.current.next;\n      currentIndex.current++;\n    }\n  }; //changes the animation speed when the slider changes\n\n\n  const updateSpeed = () => {\n    if (animationFunction.current != null) {\n      clearInterval(interval.current);\n      interval.current = setInterval(() => {\n        animationFunction.current();\n        forceUpdate();\n      }, 1000 - speedSlider.current.value);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"linked-list\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"randomButton\",\n        onClick: randomList,\n        children: \"Random\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"labeledInput\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Size\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"randomSizeInput\",\n          ref: randomSize,\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"insertButton\",\n        onClick: insert,\n        children: \"Insert\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"labeledInput\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Index\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"insertIndex\",\n          ref: insertIndex,\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"labeledInput\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Value\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"insertValue\",\n          ref: insertValue,\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: remove,\n        id: \"removeButton\",\n        children: \"Remove\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"labeledInput\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Index\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"removeIndex\",\n          ref: removeIndex,\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"listOutput\",\n        type: \"text\",\n        ref: listOutput,\n        readOnly: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"getButton\",\n        onClick: get,\n        children: \"Get\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"labeledInput\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Index\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"getIndex\",\n          ref: getIndex,\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"labeledSlider\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Animation Speed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"slider\",\n          ref: speedSlider,\n          onChange: updateSpeed,\n          min: \"0\",\n          max: \"990\",\n          type: \"range\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"visualization\",\n      children: /*#__PURE__*/_jsxDEV(LinkedListDisplay, {\n        list: list,\n        focus: currentNode.current,\n        green: green.current,\n        yellow: yellow.current,\n        pink: pink.current\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 312,\n    columnNumber: 9\n  }, this);\n};\n\n_s(LinkedList, \"X6yJMTzVd5YBt4dfblDCp44q66Y=\");\n\n_c2 = LinkedList;\nexport default LinkedList;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"LinkedListDisplay\");\n$RefreshReg$(_c2, \"LinkedList\");","map":{"version":3,"sources":["C:/Users/qdeman/Documents/Daily_Dose_of_Data/ReactApp/src/LinkedList/LinkedList.js"],"names":["React","useState","useRef","useEffect","useCallback","Element","Node","constructor","value","next","LinkedListClass","head","size","insert","data","current","insertAt","index","newNode","previous","i","get","remove","curr","prev","LinkedListDisplay","props","list","componentList","focus","push","green","yellow","pink","LinkedList","setList","forceRender","randomSize","insertIndex","insertValue","removeIndex","listOutput","getIndex","speedSlider","interval","animationFunction","animationValue","targetIndex","animating","currentNode","currentIndex","forceUpdate","renders","randomList","toggleAnimation","randInt","isNaN","parseInt","newList","min","max","Math","floor","random","clearInterval","setInterval","insertStep","removeStep","updateSpeed"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react';\r\nimport './LinkedList.scss';\r\nimport Element from '../Element/Element';\r\n\r\nclass Node {\r\n    constructor(value) {\r\n        this.value = value;\r\n        this.next = null;\r\n    }\r\n}\r\n\r\nclass LinkedListClass {\r\n    constructor(head = null) {\r\n        this.head = head;\r\n        this.size = 0;\r\n    }\r\n\r\n    //for insertion at tail -- currently unused\r\n    insert(data) {\r\n        if (this.head == null) {\r\n            this.head = new Node(data);\r\n        }\r\n        else {\r\n            var current = this.head;\r\n            while (current.next != null) {\r\n                current = current.next;\r\n            }\r\n            current.next = new Node(data);\r\n        }\r\n        this.size++;\r\n    }\r\n\r\n    insertAt(data, index) {\r\n        var newNode = new Node(data);\r\n        var current = this.head;\r\n        var previous;\r\n\r\n        if (index <= this.size) {\r\n\r\n            if (index === 0) {\r\n                newNode.next = this.head;\r\n                this.head = newNode;\r\n            }\r\n            else {\r\n                var i = 0;\r\n                while (i < index) {\r\n                    i++;\r\n                    previous = current;\r\n                    current = current.next;\r\n                }\r\n                newNode.next = current;\r\n                previous.next = newNode;\r\n            }\r\n            this.size++;\r\n        }\r\n    }\r\n\r\n    get(index) {\r\n        var i = 0;\r\n        var current = this.head;\r\n        while (i !== index) {\r\n            current = current.next;\r\n            i++;\r\n        }\r\n        return current.value;\r\n    }\r\n\r\n    remove(index) {\r\n        var i = 0;\r\n        var curr, prev, next;\r\n        if (index < this.size && this.size > 0) {\r\n            if (index === 0) {\r\n                this.head = this.head.next;\r\n                this.size--;\r\n            }\r\n            else {\r\n                i++;\r\n                prev = this.head;\r\n                curr = prev.next;\r\n                next = curr.next;\r\n                while (i !== index) {\r\n                    i++;\r\n                    prev = prev.next;\r\n                    curr = curr.next;\r\n                    next = next.next;\r\n                }\r\n                prev.next = next;\r\n                this.size--;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nconst LinkedListDisplay = (props) => {\r\n    var current = props.list.head;\r\n    var index = 0;\r\n    var componentList = [];\r\n    while (current != null) {\r\n        if (current === props.focus) {\r\n            componentList.push(\r\n                <div key={2*index} className=\"labeledElement\">\r\n                    <label>{index}</label>\r\n                    <Element value={current.value} border=\"bordered\"></Element>\r\n                </div>\r\n            );\r\n        } else if (current === props.green) {\r\n            componentList.push(\r\n                <div key={2*index} className=\"labeledElement\">\r\n                    <label>{index}</label>\r\n                    <Element value={current.value} color=\"green\"></Element>\r\n                </div>\r\n            );\r\n        } else if (current === props.yellow) {\r\n            componentList.push(\r\n                <div key={2*index} className=\"labeledElement\">\r\n                    <label>{index}</label>\r\n                    <Element value={current.value} color=\"yellow\"></Element>\r\n                </div>\r\n            );\r\n        } else if (current === props.pink) {\r\n            componentList.push(\r\n                <div key={2*index} className=\"labeledElement\">\r\n                    <label>{index}</label>\r\n                    <Element value={current.value} color=\"pink\"></Element>\r\n                </div>\r\n            );\r\n        } else {\r\n            componentList.push(\r\n                <div key={2*index} className=\"labeledElement\">\r\n                    <label>{index}</label>\r\n                    <Element value={current.value}></Element>\r\n                </div>\r\n            );\r\n        }\r\n        componentList.push(\r\n            <p className=\"arrow\" key={2*index+1}>&#x2192;</p>\r\n        );\r\n        current = current.next;\r\n        index++;\r\n    }\r\n    componentList.push(<Element key={2*index} value=\"null\" />);\r\n    return componentList;\r\n\r\n    \r\n}\r\n\r\nconst LinkedList = () => {\r\n\r\n    const [list, setList] = useState(new LinkedListClass());\r\n    const [, forceRender] = useState(0);\r\n    const randomSize = useRef();\r\n    const insertIndex = useRef();\r\n    const insertValue = useRef();\r\n    const removeIndex = useRef();\r\n    const listOutput = useRef();\r\n    const getIndex = useRef();\r\n    const speedSlider = useRef();\r\n    const interval = useRef();\r\n    const animationFunction = useRef();\r\n    const animationValue = useRef();\r\n    const targetIndex = useRef();\r\n    const animating = useRef();\r\n    const currentNode = useRef();\r\n    const currentIndex = useRef();\r\n    const green = useRef();\r\n    const yellow = useRef();\r\n    const pink = useRef();\r\n\r\n    //We call update on fake state variable to force rerender\r\n    const forceUpdate = () => {\r\n        forceRender(renders => renders + 1);\r\n    }\r\n\r\n    //sets list to a randomly generated list\r\n    const randomList = () => {\r\n        if (animating.current)\r\n            toggleAnimation();\r\n        var size = randomSize.current.value;\r\n        if (size === \"\") {\r\n            size = randInt(8, 40);\r\n        }\r\n        if (!isNaN(parseInt(size)) && size > 0) {\r\n            var newList = new LinkedListClass();\r\n            for (let i = 0; i < size; i++)\r\n                newList.insertAt(randInt(-999,1000), 0);\r\n            setList(newList);\r\n        }\r\n        randomSize.current.value = null;\r\n    }\r\n    const randInt = (min, max) => {\r\n        return Math.floor(Math.random() * (max-min) + min);\r\n    }\r\n\r\n    //function to pause or continue animation\r\n    const toggleAnimation = useCallback(() => {\r\n        if (animating.current) {\r\n            clearInterval(interval.current);\r\n            animating.current = false;\r\n            animationFunction.current = null;\r\n            animationValue.current = null;\r\n            targetIndex.current = null;\r\n            currentNode.current = null;\r\n            currentIndex.current = null;\r\n        } else {\r\n            interval.current = setInterval(() => {\r\n                animationFunction.current();\r\n                forceUpdate();\r\n            }, 1000-speedSlider.current.value);\r\n            animating.current = true;\r\n            green.current = null;\r\n        }\r\n    }, []);\r\n\r\n    //initialize list to random list\r\n    useEffect(randomList, [toggleAnimation]);\r\n\r\n    //insertion only occurs at head for now\r\n    function insert() {\r\n        if (animating.current)\r\n            toggleAnimation();\r\n        var data = parseInt(insertValue.current.value);\r\n        var index = parseInt(insertIndex.current.value);\r\n        if(isNaN(data))\r\n            data = 0;\r\n        if(isNaN(index))\r\n            index = 0;\r\n        if (index === 0) {\r\n            list.insertAt(data, 0);\r\n            green.current = list.head;\r\n            forceUpdate();\r\n        } else if (index > 0 && index < list.size) {\r\n            animationFunction.current = insertStep;\r\n            animationValue.current = data;\r\n            targetIndex.current = index;\r\n            currentNode.current = list.head;\r\n            currentIndex.current = 0;\r\n            forceUpdate();\r\n            toggleAnimation();\r\n        } else {\r\n            listOutput.current.value = \"Invalid\";\r\n        }\r\n        insertValue.current.value = null;\r\n        insertIndex.current.value = null;\r\n    }\r\n\r\n    //function for a single step of insertion animation\r\n    const insertStep = () => {\r\n        if(currentIndex.current === targetIndex.current-1) {\r\n            list.insertAt(animationValue.current, targetIndex.current);\r\n            green.current = currentNode.current.next;\r\n            toggleAnimation();\r\n        } else {\r\n            currentNode.current = currentNode.current.next;\r\n            currentIndex.current++;\r\n        }\r\n    }\r\n\r\n    function get() {\r\n        var index = parseInt(getIndex.current.value);\r\n        if(isNaN(index))\r\n            index = 0;\r\n        if (index >= 0 && index < list.size) {\r\n            listOutput.current.value = list.get(index);\r\n        } else {\r\n            listOutput.current.value = \"Invalid\";\r\n        }\r\n        getIndex.current.value = null;\r\n    }\r\n\r\n    function remove() {\r\n        if (animating.current)\r\n            toggleAnimation();\r\n        var index = parseInt(removeIndex.current.value);\r\n        if(isNaN(index))\r\n            index = 0;\r\n        if (index >= 0 && index < list.size) {\r\n            listOutput.current.value = list.get(index);\r\n            animationFunction.current = removeStep;\r\n            targetIndex.current = index;\r\n            currentIndex.current = 0;\r\n            currentNode.current = list.head;\r\n            forceUpdate();\r\n            toggleAnimation();\r\n        } else {\r\n            listOutput.current.value = \"Invalid\";\r\n        }\r\n        removeIndex.current.value = null;\r\n    }\r\n\r\n    //function to do 1 step of remove animation\r\n    const removeStep = () => {\r\n        if (targetIndex.current === currentIndex.current) {\r\n\r\n        } else {\r\n            currentNode.current = currentNode.current.next;\r\n            currentIndex.current++;\r\n        }\r\n    }\r\n\r\n    //changes the animation speed when the slider changes\r\n    const updateSpeed = () => {\r\n        if (animationFunction.current != null) {\r\n            clearInterval(interval.current);\r\n            interval.current = setInterval(() => {\r\n                animationFunction.current();\r\n                forceUpdate();\r\n            }, 1000-speedSlider.current.value);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"linked-list\">\r\n            <div className=\"controls\">\r\n                <button id=\"randomButton\" onClick={randomList}>Random</button>\r\n                <span className=\"labeledInput\">\r\n                    <label>Size</label>\r\n                    <input id=\"randomSizeInput\" ref={randomSize} type=\"text\"></input>\r\n                </span>\r\n                <br />\r\n                <button id=\"insertButton\" onClick={insert}>Insert</button>\r\n                <span className=\"labeledInput\">\r\n                    <label>Index</label>\r\n                    <input id=\"insertIndex\" ref={insertIndex} type=\"text\"></input>\r\n                </span>\r\n                <span className=\"labeledInput\">\r\n                    <label>Value</label>\r\n                    <input id=\"insertValue\" ref={insertValue} type=\"text\"></input>\r\n                </span>\r\n                <br />\r\n                <button onClick={remove} id=\"removeButton\" >Remove</button>\r\n                <span className=\"labeledInput\">\r\n                    <label>Index</label>\r\n                    <input id=\"removeIndex\" ref={removeIndex} type=\"text\"></input>\r\n                </span>\r\n                <br />\r\n                <input id=\"listOutput\" type=\"text\" ref={listOutput} readOnly></input>\r\n                <br />\r\n                <button id=\"getButton\" onClick={get} >Get</button>\r\n                <span className=\"labeledInput\">\r\n                    <label>Index</label>\r\n                    <input id=\"getIndex\" ref={getIndex} type=\"text\"></input>\r\n                </span>\r\n                <br />\r\n                <span className=\"labeledSlider\">\r\n                    <label>Animation Speed</label>\r\n                    <input className=\"slider\" ref={speedSlider} onChange={updateSpeed} min=\"0\" max=\"990\" type=\"range\"></input>\r\n                </span>\r\n            </div>\r\n\r\n            <div className=\"visualization\">\r\n                <LinkedListDisplay list={list} focus={currentNode.current} green={green.current} yellow={yellow.current} pink={pink.current} />\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default LinkedList;"]},"metadata":{},"sourceType":"module"}